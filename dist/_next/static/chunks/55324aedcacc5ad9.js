(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95188,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566);function l(){let[e,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),r=(0,a.useRouter)();(0,t.useEffect)(()=>{localStorage.getItem("admin_auth")?n():r.push("/admin/login")},[]);let n=async()=>{try{let e=await fetch("http://localhost:6969/api/forms/all"),s=await e.json();s.success&&l(s.data)}catch(e){console.error("Error fetching leads:",e)}finally{d(!1)}};return c?(0,s.jsx)("div",{className:"p-10 text-center",children:"Loading leads..."}):(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 p-8 mt-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("header",{className:"mb-8 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Admin Dashboard - Leads"}),(0,s.jsx)("button",{onClick:n,className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition cursor-pointer",children:"Refresh Data"})]}),(0,s.jsx)("div",{className:"bg-white shadow-sm rounded-xl overflow-hidden border border-slate-200",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm text-slate-600",children:[(0,s.jsx)("thead",{className:"bg-slate-100 text-xs uppercase font-bold text-slate-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Email / Phone"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Message / Details"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-400",children:"No leads found."})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-slate-50 transition",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(e.createdAt).toLocaleString()}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${"custom_database"===e.type?"bg-purple-100 text-purple-700":"sample_request"===e.type?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:e.type.replace("_"," ")})}),(0,s.jsx)("td",{className:"px-6 py-4 font-medium text-slate-900",children:e.name||"-"}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{children:e.email}),e.phone&&(0,s.jsx)("span",{className:"text-xs text-slate-400",children:e.phone})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 max-w-xs truncate",children:[e.message&&(0,s.jsxs)("div",{className:"mb-1",title:e.message,children:[(0,s.jsx)("span",{className:"font-semibold text-xs",children:"Msg:"})," ",e.message]}),e.datasetDetails&&(0,s.jsxs)("div",{className:"text-xs text-slate-500 bg-slate-100 p-1 rounded",children:["Dataset: ",e.datasetDetails.name," ",(0,s.jsx)("br",{}),"Cat: ",e.datasetDetails.category]})]})]},e._id))})]})})})]})})}e.s(["default",()=>l])}]);